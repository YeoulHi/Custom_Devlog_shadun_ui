# 개발 일지 (Devlog)

## 2024-06-15: 전역 레이아웃 및 URL 라우팅 통합

### 📋 오늘의 작업 요약
- 전역 Header 컴포넌트 통합
- 페이지 간 URL 라우팅 개선
- 검색 페이지 연결 완료
- 문서 업데이트 및 Git 관리

### 🛠️ 세부 작업 내용

#### 1. 전역 Header 컴포넌트 통합
- `app/layout.tsx`에 Header 컴포넌트 추가하여 모든 페이지에서 일관된 헤더 표시
- 홈페이지(`app/page.tsx`)에서 중복 헤더 제거
- 모든 페이지에서 헤더가 일관되게 표시되는지 확인

#### 2. 페이지 간 URL 라우팅 개선
- 홈페이지 포스트 목록에 각 포스트 페이지로 연결되는 Link 컴포넌트 추가
- 포스트 항목에 hover 효과 추가하여 클릭 가능함을 시각적으로 표시
- 모든 링크가 올바른 URL로 연결되는지 확인

#### 3. 검색 페이지 연결 작업
- Header 컴포넌트의 검색 아이콘에 `/search` 링크 추가
- Sidebar 컴포넌트의 네비게이션 메뉴에 검색 항목 추가
- 검색 페이지 기본 구조 구현 (main 요소, h1 제목, 반응형 클래스)

#### 4. 문서 업데이트
- `PRD/todo.md`: 완료된 작업 체크 및 진행률 업데이트 (80%)
- 새로운 작업 항목 추가: 전역 레이아웃 및 URL 라우팅 통합
- Git 커밋 메시지 작성 규칙 준수

### 🔍 발생한 문제 및 해결 방법

#### 1. 중복 헤더 문제
- **문제**: 전역 헤더를 추가한 후 홈페이지에 헤더가 중복으로 표시됨
- **원인**: 홈페이지 컴포넌트에 이미 헤더 코드가 포함되어 있었음
- **해결**: 홈페이지 컴포넌트에서 헤더 관련 코드 제거

#### 2. 링크 스타일링 문제
- **문제**: 포스트 목록 항목이 클릭 가능하다는 것이 시각적으로 명확하지 않음
- **해결**: hover 시 배경색이 변경되는 효과 추가 (`hover:bg-[#eaedf1] transition-colors`)

### 💡 개선 아이디어 및 피드백

#### 개발 프로세스 개선점
1. **작은 단위의 변경 관리**
   - 파일 단위로 변경사항을 분리하여 커밋
   - 변경 후 즉시 테스트하여 문제 조기 발견

2. **일관된 코드 스타일 유지**
   - 모든 페이지에서 동일한 레이아웃 구조 유지
   - 컴포넌트 간 일관된 네이밍 및 스타일링 적용

#### 다음 작업 계획
- Vercel MCP 기본 설정 (프로젝트 생성 및 GitHub 연결)
- Supabase MCP 기본 설정 (프로젝트 생성 및 기본 테이블 구조 설계)

### 📊 현재 진행 상황
- 전체 진행률: 80%
- 완료된 페이지: 홈, 포스트, 카테고리, 태그, About, 프로젝트, 검색(기본 구조)
- 다음 목표: Vercel 및 Supabase MCP 설정

## 2024-06-16: 포스트 페이지 구현 및 헤더 중복 문제 해결

### 📋 오늘의 작업 요약
- 포스트 목록 페이지 구현 완료
- 포스트 상세 페이지 구현 완료
- 헤더 중복 문제 해결
- 타입 시스템 확장
- 문서 업데이트 및 Git 관리

### 🛠️ 세부 작업 내용

#### 1. 포스트 목록 페이지 구현
- `app/posts/page.tsx` 파일 구현
- 포스트 데이터 연동 및 그리드 레이아웃 구성
- 검색 필터링 기능 구현 (제목 및 요약 기준)
- 반응형 디자인 적용 (모바일, 태블릿, 데스크톱)

#### 2. 포스트 상세 페이지 구현
- `app/posts/[slug]/page.tsx` 동적 라우팅 구현
- 포스트 데이터 로드 및 표시
- 읽기 진행률 표시 기능 구현
- 댓글 섹션 구현
- 작성자 프로필 및 관련 포스트 목록 표시

#### 3. 헤더 중복 문제 해결
- **문제**: 전역 레이아웃(`app/layout.tsx`)에 Header 컴포넌트가 포함되어 있는데, 각 페이지 컴포넌트에서도 Header를 포함하여 중복 표시됨
- **해결**: 각 페이지 컴포넌트에서 Header 컴포넌트 import와 렌더링 부분 제거
- 모든 페이지에서 헤더 표시 확인

#### 4. 타입 시스템 확장
- 관련 포스트 타입 확장
- 댓글 타입에 dislikes 필드 추가
- 데이터 모델 확장

#### 5. 문서 업데이트
- `PRD/todo.md`: 포스트 페이지 기능 완성 체크
- `README.md`: 최근 업데이트 섹션 추가
- 전체 진행률 70% 업데이트

### 🔍 발생한 문제 및 해결 방법

#### 1. 헤더 중복 문제
- **문제**: 전역 헤더와 페이지별 헤더가 중복으로 표시됨
- **원인**: 레이아웃 구조에서 헤더가 중복 정의됨
- **해결**: 페이지 컴포넌트에서 헤더 관련 코드 제거, 전역 레이아웃의 헤더만 사용

#### 2. 동적 데이터 표시 문제
- **문제**: 포스트 데이터가 일부 페이지에서 제대로 표시되지 않음
- **해결**: 'use client' 지시문 추가 및 데이터 로딩 로직 최적화

### 💡 개선 아이디어 및 피드백

#### 개발 프로세스 개선점
1. **컴포넌트 구조화**
   - 포스트 페이지의 복잡한 UI를 더 작은 컴포넌트로 분리
   - 재사용 가능한 컴포넌트 라이브러리 확장

2. **데이터 관리 최적화**
   - 서버 컴포넌트와 클라이언트 컴포넌트의 명확한 구분
   - 데이터 페칭 전략 개선

#### 다음 작업 계획
- 검색 페이지 UI 및 기능 구현
- Vercel MCP 기본 설정
- Supabase MCP 기본 설정

### 📊 현재 진행 상황
- 전체 진행률: 70%
- 완료된 페이지: 홈, 포스트, 카테고리, 태그, About, 프로젝트
- 다음 목표: 검색 페이지 구현 및 MCP 설정

## Cursor IDE 최적화 지침

### 🚀 Next.js 프로젝트 개발 시 Cursor 최적화 방안

#### 1. 개발 환경 설정
- **캐시 관리 자동화**
  ```powershell
  # 빌드 오류 발생 시 캐시 삭제 스크립트 (package.json에 추가)
  "clean": "rimraf .next && next dev"
  ```
- **에디터 설정**
  - Cursor에서 TSX/JSX 파일 저장 시 자동 포맷팅 활성화
  - 'use client' 지시문 자동 추가 스니펫 설정

#### 2. 코드 작성 워크플로우
- **컴포넌트 템플릿 활용**
  - 클라이언트/서버 컴포넌트 템플릿 미리 설정
  - 컴포넌트 생성 시 적절한 템플릿 선택

- **점진적 개발 흐름**
  1. 단일 파일 수정 → 테스트 → 커밋
  2. 연관 파일 그룹 수정 → 테스트 → 커밋
  3. 전체 기능 테스트 → 최종 커밋

#### 3. 디버깅 최적화
- **오류 로그 분석 자동화**
  - 로그 패턴 인식 및 해결책 제안 스크립트
  - 주요 오류 메시지에 대한 대응 방안 문서화

- **빠른 문제 해결 체크리스트**
  1. React 하이드레이션 오류 → 'use client' 지시문 확인
  2. 빌드 캐시 오류 → `.next` 디렉토리 삭제
  3. 컴포넌트 렌더링 오류 → props 타입 확인

#### 4. 문서화 자동화
- **커밋 메시지 템플릿**
  ```
  [페이지/컴포넌트명] 작업 내용 요약
  
  - 세부 변경사항 1
  - 세부 변경사항 2
  
  관련 이슈: #이슈번호
  ```

- **Devlog 업데이트 자동화**
  - 커밋 내역 기반 Devlog 초안 자동 생성 스크립트

#### 5. 협업 최적화
- **코드 리뷰 체크리스트**
  - 'use client' 지시문 적절한 사용
  - 불필요한 React import 제거
  - form 요소의 적절한 속성 설정
  - 타입 정의 완전성

- **브랜치 전략**
  - 기능별 브랜치 (feature/페이지명)
  - 버그 수정 브랜치 (fix/문제설명)
  - 문서 업데이트 브랜치 (docs/문서명)

### 📌 Cursor에서 자주 발생하는 Next.js 문제 해결 방법
1. **하이드레이션 불일치 오류**
   - 원인: 서버와 클라이언트 렌더링 결과 불일치
   - 해결: 조건부 렌더링에 useEffect 활용, 'use client' 지시문 추가

2. **빌드 캐시 손상**
   - 원인: 파일 시스템 오류 또는 비정상 종료
   - 해결: `.next` 디렉토리 삭제 후 재빌드

3. **타입스크립트 오류**
   - 원인: 타입 정의 불일치 또는 누락
   - 해결: 명시적 타입 정의, tsconfig.json 설정 최적화

4. **컴포넌트 import/export 오류**
   - 원인: 잘못된 경로 또는 누락된 export
   - 해결: index.ts 파일에서 일관된 export 관리
